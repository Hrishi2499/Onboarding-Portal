<app-navbar></app-navbar>
<div class = "container">
  <h1 class = "text-center" style="margin: 20px;">Onboardees List</h1>
</div>
<!-- Search Bar --> 
<div class="container">
  <form >
    <div class="form-row" style= "align-self: center;">
      <div class="form-group col-md-3">
        <select id="parameter" name = "parameter" [(ngModel)] = "parameter" class="form-control">
          <option value="onboardId">Onboard Id</option>
          <option value="candidateId">Candidate Id</option>
          <option value="hmId">Hiring Manager Id</option>
          <option value="managerName">Hiring Manager Name</option>
          <option value = "firstName">First Name</option>
          <option value = "lastName">Last Name</option>
          <option value = "college">College</option>
          <option value = "location">Location</option>
          <option value="skill">Skill</option>
          <option value="onboardStatus">Onboard Status</option>
        </select>
      </div>
      <div class="form-group col-md-7">
        <input type="text" name = "value" [(ngModel)] = "value" class="form-control" id="value" placeholder="Search by parameters">
      </div>
      <div class="form-group col-md-1">
        <button type="submit" (click) = "searchByParameter()" class="btn btn-primary">Search</button>
      </div>
      <div class="form-group col-md-1">
        <button type="submit" (click) = "resetSearch()" class="btn btn-primary">Reset</button>
      </div>
    </div>
    </form>
  </div>

<!-- Candidate cards -->
<div class="container">

      <table class="table table-striped">
        <tbody>
          <tr *ngFor = "let onboard of onboards">
                <td colspan="1">
                    Candidate ID: {{onboard.candidate.candidateId}}
                    <br>
                    Name: {{onboard.candidate.firstName}} {{onboard.candidate.lastName}}       
                    <br>
                    
                    <br>
                    <details>
                      <summary>Candidate Details</summary>
                      <span>Email Id: {{onboard.candidate.email}}</span><br>
                      <span>College: {{onboard.candidate.college}}</span><br>
                      <span>Skill: {{onboard.candidate.skill}}</span><br>
                  </details>
                </td>

                <td colspan="1">
                  Manager ID: {{onboard.hiringManager.hmId}}
                    <br>
                    Manager Name: {{onboard.hiringManager.name}}
                    <br>
                </td>

                <td colspan="2">
                  Onboard ID: {{onboard.onboardId}}
                        <br>
                        Date of Creation: {{onboard.startDate}}
                        <br>
                        Onboard Location: {{onboard.location}}
                        <br>
                        Expected Onboarding Date: {{onboard.eta}}
                </td>

                <td colspan="1">
                  Background Status: <span *ngIf="onboard.bgStatus; else Pending">Done</span>
                  <br>
                  Graduation: <span *ngIf="onboard.graduation; else Pending">Done</span>
                  <br>
                  Training: <span *ngIf="onboard.training; else Pending">Done</span>
                  <br>
                  Onboard Status: {{onboard.onboardStatus}}
                  <ng-template #Pending>Pending</ng-template>
              </td>
                    <td>
                        <button (click)="updateOnboard(onboard.onboardId)" class="btn btn-primary"> &nbsp;Edit&nbsp; </button>
                        <br><br>
                        <button (click)="deleteOnboard(onboard.onboardId)" class="btn btn-danger">Delete</button>
                    </td>
          </tr>
        </tbody>
      </table>
</div>
<app-footer></app-footer>